import { runCompleteMigration, checkDataIntegrity } from "./runMigration";

async function main() {
  console.log("üå± Iniciando seed de dados...");

  try {
    // Executar migra√ß√£o completa
    const result = await runCompleteMigration();

    if (result.success) {
      console.log("\nüìä Estat√≠sticas finais:");
      console.log(`- Usu√°rios: ${result.stats.users}`);
      console.log(`- Projetos: ${result.stats.projects}`);
      console.log(`- Servi√ßos: ${result.stats.services}`);
      console.log(`- Depoimentos: ${result.stats.testimonials}`);
      console.log(`- Configura√ß√µes: ${result.stats.settings}`);

      // Verificar integridade dos dados
      console.log("\nüîç Verificando integridade dos dados...");
      const integrity = await checkDataIntegrity();

      if (integrity.success) {
        console.log(
          "\nüéâ Seed executado com sucesso! Todos os dados foram criados corretamente.",
        );
      } else {
        console.log(
          "\n‚ö†Ô∏è Seed conclu√≠do, mas foram encontrados problemas de integridade.",
        );
      }
    }
  } catch (error) {
    console.error("‚ùå Erro ao executar seed:", error);
    process.exit(1);
  }
}

// Executar se chamado diretamente
main().catch(console.error);

export default main;
